<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://primefaces.org/ui">
<h:head>
    <title>PIP laba 2, Author : Farrukh Karimov P3202, Var : 200133</title>
</h:head>
<h:body>
    <table id="zoneTable">
        <tr id="zoneHat">
            <td>
                <h1> Karimov Farrukh Tojidinovich P3202/P3302 Var : 1942 </h1>
            </td>
        </tr>
        <tr id="zoneContent">
            <td>
                <table class="contentTable">
                    <tr>
                        <td class="contentTableTd">
                            <div id="app">
                                <canvas id="plotClocks" height="30" width="450"
                                        onclick="newPoint(event)"> Your brouser can't work with canvas
                                </canvas>
                                <br/>
                                Tut bedet uslovie <br/>
                                <h:form id="form1">
                                    Значение X : <p:spinner min="-4.9" max="4.9" id="basic" value="#{pointController.x}" onkeypress="return false" placeholder="(-5; 5)" stepFactor="0.1">
                                        <p:ajax update="@this" process="@this" />
                                        <f:validateLength minimum="1" maximum="5"/>
                                        <f:validateDoubleRange maximum="4.999999999999999999" minimum="-4.9999999999999999999" />
                                    </p:spinner>
                                    <br/>

                                    Значение Y :
                                    <h:inputText value="#{pointController.y}" id="valueY"  placeholder="(-3; 3)"> <br/>
                                        <f:validateLength minimum="1" maximum="6" />
                                        <f:validateDoubleRange minimum="-2.999999999999" maximum="2.999999999999999999" />
                                    </h:inputText> <br/>
                                    <h:message for="valueY" style="color:red" />

                                    <br/>

                                    <br/>
                                    Значение R :
                                    <br/>
                                    <h:selectOneRadio id = "valueR" value="#{pointController.r}"  required="true" >
                                        <f:selectItem itemValue="1" itemLabel="1" name="valueR" id="sha1"/>
                                        <f:selectItem itemValue="2" itemLabel="2" name="valueR" />
                                        <f:selectItem itemValue="3" itemLabel="3" name="valueR" />
                                        <f:selectItem itemValue="4" itemLabel="4" name="valueR" />
                                        <f:selectItem itemValue="5" itemLabel="5" name="valueR" />

                                    </h:selectOneRadio>

                                    <h:commandButton value="Submit" id="submit"  onclick="check_X()" action="#{pointController.savePoint()}" style="margin: 15px 0 0 0; width: 200px" >
                                        <f:ajax execute="@form" />
                                    </h:commandButton>
                                </h:form>
                                <br/>
                                <a href="./WelcomeFrame.xhtml"> Move to Welcome frame </a>
                            </div>
                        </td>
                        <td class="contentTableTd">
                            <canvas id="plotCanvas" height="300" width="300"
                                    onclick="newPoint(event)"> Your brouser can't work with canvas
                            </canvas>
                        </td>
                    </tr>
                    <tr>
                        <td class="contentTableTd">
                            <h:panelGroup id="XYRTable">
                                <h:dataTable value="#{DBConnector.getResultsHistory(pointController.userName)}" var="point" class="contentTableTd">
                                    <h:column class="contentTableTd">
                                        <f:facet name="header">___X___</f:facet>
                                        #{point.x}
                                    </h:column>

                                    <h:column class="contentTableTd">
                                        <f:facet name="header">___Y___</f:facet>
                                        #{point.y}
                                    </h:column>

                                    <h:column class="contentTableTd">
                                        <f:facet name="header">___R___</f:facet>
                                        #{point.r}
                                    </h:column>

                                    <h:column class="contentTableTd">
                                        <f:facet name="header">___Result___</f:facet>
                                        #{point.result}
                                    </h:column>

                                    <h:column class="contentTableTd">
                                        <f:facet name="header">___TimeToWork___</f:facet>
                                        #{point.timeToWork}
                                    </h:column>

                                </h:dataTable>
                            </h:panelGroup>
                        </td>
                    </tr>
                </table>

            </td>
        </tr>
        <tr id="zoneFooter">
            <td>
                <footer id="footer">
                    <div align="center">
                        <br/>
                        <table class="footerTable">
                            <td><h4>
                                Создатели Farrukh Karimov. <br/>
                                При поддержке Barsic.Enterprise.
                            </h4></td>
                        </table>
                    </div>
                </footer>
            </td>
        </tr>
    </table>



    <link rel="stylesheet" href="./styles/styles1.css" type="text/css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script type="text/javascript" src="./js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="./js/scripts.js"></script>
    <script type="text/javascript" src="./js/ClocksPrinter.js"></script>

</h:body>
</html>
